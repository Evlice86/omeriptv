<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>√ñmer Avcƒ± | IPTV Pro Dashboard</title>
    <style>
        :root {
            --accent: #a855f7;
            --bg: #020617; 
            --card: rgba(15, 23, 42, 0.95);
            --transition: all 0.3s ease;
        }

        body {
            margin: 0; font-family: 'Inter', sans-serif;
            background: var(--bg); color: #f8fafc; overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- KAYAN √úST BAND --- */
        .ticker-wrap {
            width: 100%; overflow: hidden; background: #000;
            border-bottom: 1px solid var(--accent); height: 35px;
            display: flex; align-items: center;
        }
        .ticker-move {
            white-space: nowrap; display: inline-block;
            animation: marquee 20s linear infinite;
            font-weight: bold; font-size: 0.85rem; color: #fff;
        }
        @keyframes marquee {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        /* --- HEADER & MENU --- */
        header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 10px 15px; background: rgba(0,0,0,0.5); backdrop-filter: blur(10px);
            position: relative; z-index: 1000;
        }
        .logo { font-size: 1.2rem; font-weight: 800; letter-spacing: -1px; }
        .logo span { color: var(--accent); }
        .menu-icon { font-size: 24px; cursor: pointer; color: var(--accent); }
        
        .dropdown-menu {
            position: absolute; top: 50px; right: 15px; width: 220px;
            background: #0f172a; border: 2px solid var(--accent);
            border-radius: 15px; display: none; z-index: 9999;
            padding: 8px; box-shadow: 0 15px 40px rgba(0,0,0,0.8);
        }
        .dropdown-menu.show { display: block; }

        .menu-item { 
            padding: 10px; cursor: pointer; border-radius: 10px; 
            display: flex; justify-content: space-between; align-items: center;
            font-weight: 600; font-size: 0.9rem; transition: var(--transition);
        }
        .menu-item:hover { background: rgba(255,255,255,0.05); color: var(--accent); }

        .color-palette {
            display: none; grid-template-columns: repeat(4, 1fr); gap: 8px;
            padding: 8px; border-top: 1px solid rgba(255,255,255,0.1);
        }
        .color-palette.show { display: grid; }
        .color-opt { width: 25px; height: 25px; border-radius: 50%; cursor: pointer; border: 2px solid rgba(255,255,255,0.2); }

        /* --- PLAYER & CONTROLS --- */
        .container { max-width: 850px; margin: 0 auto; padding: 10px; }
        .player-wrapper {
            background: var(--card); border-radius: 20px; padding: 8px;
            border: 1px solid rgba(255,255,255,0.05); margin-bottom: 15px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }
        .video-box {
            position: relative; border-radius: 15px; overflow: hidden;
            aspect-ratio: 16/9; background: #000; width: 100%;
        }

        /* FULL EKRAN DOLDURMA AYARLARI */
        video { 
            width: 100% !important; 
            height: 100% !important; 
            transition: filter 0.4s; 
            object-fit: fill; /* Varsayƒ±lanƒ± t√ºm ekranƒ± doldur (yay) yaptƒ±k */
            display: block;
        }
        
        /* Tam ekran modundayken videonun kutuyu tam kaplamasƒ± i√ßin */
        .video-box:fullscreen video {
            width: 100vw;
            height: 100vh;
        }

        .f-vivid { filter: saturate(1.6) contrast(1.1); }
        .f-sharp { filter: contrast(1.3) brightness(1.1); }

        /* --- Vƒ∞DEO √úZERƒ∞NDEKƒ∞ BUTONLAR --- */
        .video-overlay-controls {
            position: absolute; top: 10px; right: 10px;
            display: flex; gap: 8px; z-index: 10;
        }
        .ov-btn {
            background: rgba(0, 0, 0, 0.6); border: 1px solid var(--accent);
            color: white; width: 38px; height: 38px; border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; backdrop-filter: blur(5px); font-size: 1.1rem;
            transition: 0.2s;
        }
        .ov-btn:hover { background: var(--accent); transform: scale(1.1); }

        /* --- ALT KONTROL PANELƒ∞ --- */
        .controls-grid {
            display: grid; grid-template-columns: repeat(4, 1fr);
            gap: 8px; margin-top: 10px;
        }
        .grid-btn {
            background: #1e293b; border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 10px; padding: 10px 2px;
            display: flex; flex-direction: column; align-items: center;
            justify-content: center; gap: 4px; cursor: pointer;
            transition: var(--transition); color: #f8fafc;
            font-size: 0.75rem; font-weight: 600; text-align: center;
        }
        .grid-btn:hover { background: rgba(255,255,255,0.1); border-color: var(--accent); color: var(--accent); }
        .grid-btn .icon { font-size: 1.1rem; }

        .filter-panel { 
            display: none; gap: 8px; padding: 12px; 
            background: rgba(255,255,255,0.03); border-radius: 12px; margin-top: 10px;
        }
        .filter-panel.show { display: flex; }
        .btn {
            background: rgba(255,255,255,0.07); border: 1px solid rgba(255,255,255,0.1);
            color: white; padding: 8px 15px; border-radius: 10px; cursor: pointer;
            font-size: 0.8rem; font-weight: bold; transition: var(--transition);
        }
        .btn:hover { background: var(--accent); }

        /* --- KANAL Lƒ∞STESƒ∞ --- */
        .list-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 10px; padding: 0 5px;
        }
        .search-bar {
            width: 100%; background: rgba(255,255,255,0.03); border: 1.5px solid var(--accent);
            color: white; padding: 12px; border-radius: 12px; margin-bottom: 10px; box-sizing: border-box;
            outline: none; transition: var(--transition); font-size: 0.9rem;
        }

        .channel-list { display: flex; flex-direction: column; gap: 8px; }
        .channel-item {
            background: rgba(255,255,255,0.03); padding: 10px 15px; border-radius: 12px;
            display: flex; align-items: center; gap: 12px; cursor: pointer; 
            border: 1px solid transparent; transition: var(--transition);
        }
        .channel-item:hover { background: rgba(255,255,255,0.06); }
        .channel-item.active { border-color: var(--accent); background: rgba(168, 85, 247, 0.1); }
        
        .ch-logo { width: 50px; height: 35px; object-fit: contain; flex-shrink: 0; }
        .ch-name { font-size: 0.9rem; font-weight: bold; flex-grow: 1; }
        .live-dot { height: 6px; width: 6px; background: #ef4444; border-radius: 50%; animation: blink 1s infinite; }
        .stats { font-size: 0.75rem; color: #94a3b8; font-weight: bold; }

        @keyframes blink { 50% { opacity: 0.2; } }
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-thumb { background: var(--accent); border-radius: 10px; }
    </style>
</head>
<body>

<div class="ticker-wrap">
    <div class="ticker-move">
        Bayram tarafƒ±ndan yapƒ±lmƒ±≈ütƒ±r, √ñmer Avcƒ± i√ßin, iyi seyirler ‚Äî‚Äî‚Äî Bayram tarafƒ±ndan yapƒ±lmƒ±≈ütƒ±r, √ñmer Avcƒ± i√ßin, iyi seyirler ‚Äî‚Äî‚Äî Her g√ºn g√ºncel kanallar!
    </div>
</div>

<header>
    <div class="logo">√ñMER AVCI <span>IPTV</span></div>
    <div class="menu-icon" id="menuToggle">‚ò∞</div>
    <div class="dropdown-menu" id="dropdown">
        <div class="menu-item" id="colorBtn">üé® Tema Rengi <span>‚ñº</span></div>
        <div class="color-palette" id="palette">
            <div class="color-opt" style="background:#a855f7" onclick="setTheme('#a855f7')"></div>
            <div class="color-opt" style="background:#3b82f6" onclick="setTheme('#3b82f6')"></div>
            <div class="color-opt" style="background:#ef4444" onclick="setTheme('#ef4444')"></div>
            <div class="color-opt" style="background:#10b981" onclick="setTheme('#10b981')"></div>
        </div>
        <div class="menu-item" onclick="location.reload()">üîÑ Yayƒ±nƒ± Yenile</div>
        <div class="menu-item" onclick="alert('√ñmer Avcƒ± √ñzel Dashboard v2.0')">‚ÑπÔ∏è Hakkƒ±nda</div>
    </div>
</header>

<div class="container">
    <div class="player-wrapper">
        <div class="video-box" id="videoContainer">
            <div class="video-overlay-controls">
                <div class="ov-btn" title="G√∂r√ºnt√º Modu Deƒüi≈ütir" onclick="toggleFit()">üìè</div>
                <div class="ov-btn" title="Tam Ekran (Yatay)" onclick="toggleFullScreen()">üî≤</div>
            </div>
            <video id="mainVideo" controls autoplay playsinline></video>
        </div>
        
        <div class="controls-grid">
            <div class="grid-btn" onclick="toggleFilters()">
                <span class="icon">‚ú®</span>
                <span>G√∂r√ºnt√º<br>Modu</span>
            </div>
            <div class="grid-btn" onclick="video.requestPictureInPicture()">
                <span class="icon">üì∫</span>
                <span>Pencere</span>
            </div>
            <div class="grid-btn" onclick="takeSnap()">
                <span class="icon">üì∏</span>
                <span>Ekran<br>Al</span>
            </div>
            <div class="grid-btn" onclick="location.reload()">
                <span class="icon">üõ†Ô∏è</span>
                <span>Kurtar</span>
            </div>
        </div>

        <div class="filter-panel" id="filterPanel">
            <button class="btn" onclick="setFilt('')">Normal</button>
            <button class="btn" onclick="setFilt('f-vivid')">Canlƒ± Renk</button>
            <button class="btn" onclick="setFilt('f-sharp')">Keskinlik</button>
        </div>
    </div>

    <div class="list-header">
        <span class="stats" id="chanCount">Y√ºkleniyor...</span>
        <span class="stats">Sistem Aktif üü¢</span>
    </div>
    <input type="text" class="search-bar" placeholder="Kanal ismini buraya yazƒ±n..." onkeyup="filterChannels(this.value)">
    <div class="channel-list" id="channelBox"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script>
    const video = document.getElementById('mainVideo');
    const container = document.getElementById('videoContainer');
    let hls = new Hls();

    const kanallar = [
        { ad: "beIN Sports 1 HD", url: "aHR0cHM6Ly9vbmUuYjJhN2ZhMTA5ZWY4NGE2Zi5jbGljay9saXZlL3NiZWluc3BvcnRzLTEvcGxheWxpc3QubTN1OA==", logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/BeIN_Sports_logo.svg/200px-BeIN_Sports_logo.svg.png" },
        { ad: "beIN Sports 2 HD", url: "aHR0cHM6Ly9vbmUuYjJhN2ZhMTA5ZWY4NGE2Zi5jbGljay9saXZlL3NiZWluc3BvcnRzLTIvcGxheWxpc3QubTN1OA==", logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/BeIN_Sports_logo.svg/200px-BeIN_Sports_logo.svg.png" },
        { ad: "beIN Sports 3 HD", url: "aHR0cHM6Ly9vbmUuYjJhN2ZhMTA5ZWY4NGE2Zi5jbGljay9saXZlL3NiZWluc3BvcnRzLTMvcGxheWxpc3QubTN1OA==", logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/BeIN_Sports_logo.svg/200px-BeIN_Sports_logo.svg.png" },
        { ad: "beIN Sports 4 HD", url: "aHR0cHM6Ly9vbmUuYjJhN2ZhMTA5ZWY4NGE2Zi5jbGljay9saXZlL3NiZWluc3BvcnRzLTQvcGxheWxpc3QubTN1OA==", logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/BeIN_Sports_logo.svg/200px-BeIN_Sports_logo.svg.png" },
        { ad: "beIN Sports 5 HD", url: "aHR0cHM6Ly9vbmUuYjJhN2ZhMTA5ZWY4NGE2Zi5jbGljay9saXZlL3NiZWluc3BvcnRzLTUvcGxheWxpc3QubTN1OA==", logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/BeIN_Sports_logo.svg/200px-BeIN_Sports_logo.svg.png" },
        { ad: "beIN Sports Max 1", url: "aHR0cHM6Ly9vbmUuYjJhN2ZhMTA5ZWY4NGE2Zi5jbGljay9saXZlL3NiZWluc3BvcnRzLTIvcGxheWxpc3QubTN1OA==", logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/BeIN_Sports_logo.svg/200px-BeIN_Sports_logo.svg.png" },
        { ad: "beIN Sports Max 2", url: "aHR0cHM6Ly9vbmUuYjJhN2ZhMTA5ZWY4NGE2Zi5jbGljay9saXZlL3NiZWluc3BvcnRzLTMvcGxheWxpc3QubTN1OA==", logo: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/BeIN_Sports_logo.svg/200px-BeIN_Sports_logo.svg.png" },
        { ad: "Tivibu Spor 1", url: "aHR0cHM6Ly9vbmUuYjJhN2ZhMTA5ZWY4NGE2Zi5jbGljay9saXZlL3N0aXZpYnVzcG9yLTEvcGxheWxpc3QubTN1OA==", logo: "https://upload.wikimedia.org/wikipedia/commons/a/a2/Tivibu_logo.png" },
        { ad: "Tivibu Spor 2", url: "aHR0cHM6Ly9vbmUuYjJhN2ZhMTA5ZWY4NGE2Zi5jbGljay9saXZlL3N0aXZpYnVzcG9yLTIvcGxheWxpc3QubTN1OA==", logo: "https://upload.wikimedia.org/wikipedia/commons/a/a2/Tivibu_logo.png" },
        { ad: "TRT 1", url: "https://tv-trt1.medya.trt.com.tr/master.m3u8?hls=1", logo: "https://sm.mashable.com/t/mashable_tr/photo/default/trt-1-neden-acilmiyor-cozumu-nedir_ep7p.2496.png" }
    ];

    function init() {
        const box = document.getElementById('channelBox');
        document.getElementById('chanCount').innerText = `${kanallar.length} Kanal Mevcut`;
        
        kanallar.forEach((k, i) => {
            const div = document.createElement('div');
            div.className = 'channel-item' + (i === 0 ? ' active' : '');
            div.innerHTML = `
                <img src="${k.logo}" class="ch-logo" onerror="this.src='https://via.placeholder.com/60x40?text=TV'">
                <span class="ch-name">${k.ad}</span>
                <span class="live-dot"></span>`;
            div.onclick = () => play(k.url, div);
            box.appendChild(div);
        });
        play(kanallar[0].url, document.querySelector('.channel-item'));
    }

    function play(url, el) {
        document.querySelectorAll('.channel-item').forEach(c => c.classList.remove('active'));
        if(el) el.classList.add('active');
        const src = url.includes('https') ? url : atob(url);
        if (hls) hls.destroy();
        if (Hls.isSupported()) {
            hls = new Hls(); hls.loadSource(src); hls.attachMedia(video);
            hls.on(Hls.Events.MANIFEST_PARSED, () => video.play().catch(() => {}));
        }
    }

    // BOYUT DEƒûƒ∞≈ûTƒ∞RME - EKRANI TAM DOLDURMA (STRETCH) √ñNCELƒ∞KLƒ∞
    const fitModes = [
        { mode: 'fill', label: 'Tam Doldur (Yay)' },
        { mode: 'contain', label: 'Sƒ±ƒüdƒ±r (Orantƒ±lƒ±)' },
        { mode: 'cover', label: 'Kƒ±rp ve Doldur' }
    ];
    let currentFit = 0;
    function toggleFit() {
        currentFit = (currentFit + 1) % fitModes.length;
        video.style.objectFit = fitModes[currentFit].mode;
    }

    // TAM EKRAN VE YATAY MOD
    async function toggleFullScreen() {
        if (!document.fullscreenElement) {
            try {
                if (container.requestFullscreen) await container.requestFullscreen();
                else if (container.webkitRequestFullscreen) await container.webkitRequestFullscreen();
                
                // Tam ekranda videoyu tam yaymak i√ßin otomatik 'fill' yapalƒ±m
                video.style.objectFit = 'fill';
                
                if (screen.orientation && screen.orientation.lock) {
                    await screen.orientation.lock('landscape').catch(() => {});
                }
            } catch (e) { console.error(e); }
        } else {
            if (document.exitFullscreen) document.exitFullscreen();
        }
    }

    // Men√º Ayarlarƒ±
    document.getElementById('menuToggle').onclick = (e) => {
        e.stopPropagation();
        document.getElementById('dropdown').classList.toggle('show');
    };
    document.getElementById('colorBtn').onclick = (e) => {
        e.stopPropagation();
        document.getElementById('palette').classList.toggle('show');
    };
    document.body.onclick = () => {
        document.getElementById('dropdown').classList.remove('show');
        document.getElementById('palette').classList.remove('show');
    };

    function setTheme(c) { document.documentElement.style.setProperty('--accent', c); }
    function setFilt(c) { video.className = c; }
    function toggleFilters() { document.getElementById('filterPanel').classList.toggle('show'); }
    
    function filterChannels(q) {
        let count = 0;
        document.querySelectorAll('.channel-item').forEach(item => {
            const match = item.innerText.toLowerCase().includes(q.toLowerCase());
            item.style.display = match ? 'flex' : 'none';
            if(match) count++;
        });
        document.getElementById('chanCount').innerText = `${count} Kanal Bulundu`;
    }

    function takeSnap() {
        const canvas = document.createElement('canvas');
        canvas.width = video.videoWidth; canvas.height = video.videoHeight;
        canvas.getContext('2d').drawImage(video, 0, 0);
        const a = document.createElement('a'); a.download = 'ip-tv-ss.png'; a.href = canvas.toDataURL(); a.click();
    }

    window.onload = init;
</script>
</body>
</html>

